#!/usr/bin/env bash
export PATH="/opt/homebrew/bin:/opt/homebrew/sbin:$PATH"
clear
# Lista cu iconiÈ›Äƒ + URL
radios=$(
  cat <<EOF
ðŸ“» 1.  Radio Guerrilla|http://live.guerrillaradio.ro:8010/guerrilla.aac
ðŸ“» 2.  Radio ZU|http://zuicast.digitalag.ro:9420/zu
ðŸ“» 3.  Radio Ro-Actualitati|http://89.238.227.6:8006/;
ðŸ“» 4.  Radio Europa-FM|http://astreaming.europafm.ro:8000/europafm_aacp48k
ðŸ“» 5.  Radio Kiss-Fm|https://live.kissfm.ro/kissfm.aacp
ðŸ“» 6.  Radio Magic-Fm|https://live.magicfm.ro/magicfm.aacp
ðŸ“» 7.  Radio Digi24-FM|http://live.tananana.ro:9128/stream
ðŸ“» 8.  Radio Tequila-Romania|http://dance.radiotequila.ro:7000/;stream.nsv
ðŸ“» 9.  Radio Tequila Hip-Hop|http://necenzurat.radiotequila.ro:7000/;
ðŸ“» 10. Radio Tequila-Manele|https://petrecere.radiotequila.ro/7000/stream
ðŸ“» 11. Radio Manele|https://play.wrhradios.com/8044/stream
ðŸ“» 12. Radio Desire-Ro|https://asculta.ascultatare.ro:7000/stream
ðŸ“» 13. Radio Greeu-D-D|https://greudedifuzat.ro/stream/
ðŸ“» 14. Radio Noise|http://live.radionoise.ro:9100/;

EOF
)

while true; do
  clear
  echo "ApasÄƒ ESC pentru a ieÈ™i."

  selection=$(echo "$radios" | cut -d'|' -f1 | fzf \
    --prompt="ðŸŽ§ SelecteazÄƒ radio: " \
    --height=60% \
    --layout=reverse \
    --border=rounded \
    --info=hidden \
    --preview-window=hidden)

  # DacÄƒ s-a apÄƒsat ESC sau nu s-a selectat nimic, ieÈ™i din buclÄƒ
  if [ -z "$selection" ]; then
    echo "âŒ IeÈ™ire."
    break
  fi

  url=$(echo "$radios" | grep "^$selection|" | cut -d'|' -f2)
  echo -e "\e[33mðŸŽµ Redau: $selection\e[0m"
  # echo -e "\e[31mðŸŽµ Redau: $selection\e[0m"
  echo "ApasÄƒ q Ã®n mpv pentru a reveni la listÄƒ."
  mpv "$url"
done
